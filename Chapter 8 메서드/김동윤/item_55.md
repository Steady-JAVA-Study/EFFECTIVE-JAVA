# 옵셔널 반환은 신중히 하라
- Optional이란 null이 아닌 T타입 참조를 하나 담거나 아무것도 담지 않은 일종의 래퍼 클래스
- Optional은 원소를 최대 1개 가질 수 있는 불변 Collection 


## 왜 Optional을 사용?
- 반환값이 없을 수도 있음을 클라이언트에게 명확히 알려준다. 
- 비검사 예외를 던지거나 null을 반환한다면 API 사용자가 그 사실을 인지하지 못해서 예상치못한 에러가 발생할 수도 있다. 
- 하지만 검사 예외를 던지면 클라이언트에서 반드시 이에 대처하는 코드를 작성해넣어야 한다. 
## 옵셔널을 사용하면 안되는 경우
- 컬렉션, 스트림, 배열, 옵셔널 같은 컨테이너 타입은 옵셔널로 감싸면 안됨. 빈 `Optional<List>`를 반환하는 것보다 빈 List를 반환하는게 좋음
- int,long,double 전용 옵셔널 클래스(OptionalInt, OptionalLong, OptionalDouble) 가 있기 때문에 박싱된 기본 타입을 담은 옵셔널을 반환하는 일은 없도록 하자.
- 옵셔널을 컬렉션의 키, 값, 원소나 배열의 원소로 사용하는게 적절한 상황은 거의 없음 (복잡성을 키워 오류 가능성을 키움)
 
## 옵셔널을 사용하면 좋은 경우
- 결과가 없을 수 있으며, 클라이언트가 이 상황을 특별하게 처리해야할 때 Optional를 반환

- 단, 옵셔널을 사용하면 새로운 객체를 할당하고 값을 꺼내기 위해 메서드를 호출하는 등으로 성능이 저하될 수 있다. → 성능이 중요할땐 안맞을 수 있음

 ## 결론
- 값을 반환하지 못할 가능성이 있고, 호출할 때마다 반환 값이 없을 가능성을 염두에 둬야하는 메서드라면 옵셔널을 반환해야할 수 있다.

- 옵셔널 반환에는 성능 저하가 뒤따르므로 상황에 맞춰 사용하자.

- 옵셔널을 반환값 이외의 용도로 쓰는 경우는 매우 드물다.