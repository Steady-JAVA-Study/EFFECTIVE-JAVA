# 상속을 고려해 설계하고 문서화해라, 아니면 상속 금지

## 상속을 허용하는 클래스가 지켜야할 제약
-  상속용 클래스의 생성자는 직접적으로든 간접적으로든 재정의 가능 메서드를 호출해서는 안된다

## 상속용 클래스 설계하기 
> 1. 클래스 내부에서 스스로 어떻게 사용하는지 (자기 사용 패턴) 모두 문서로 남겨야 한다.
2. 문서화한 것은 그 클래스가 쓰이는 한 반드시 지켜야 한다. (그러지 않으면 그 내부 구현 방식을 믿고 활용하던 하위 클래스를 오동작하게 만들 수 있다.)
3. 다른 이가 효율 좋은 하위 클래스를 만들 수 있도록 일부 메서드를 protected로 제공해야 할 수도 있다. 
4. 클래스를 확장해야 할 명확한 이유가 떠오르지 않으면 상속을 금지하자
5. 상속을 금지하려면 클래스를 final로 선언하.거나 생성자 모두를 외부에서 접근할 수 없도록 만들면 됨

## 상속을 금지하는 방법
1. 클래스를 final로 선언한다.
2. 모든 생성자를 private이나 package-private으로 선언하고 public 정적 팩터리를 만들어주기
기존과 같이 구체 클래스를 상속해 계측, 통지, 동기화, 기능 제약 등의 일부 기능을 추가해야 하는 것이 아니라 상속을 금지하고 대신  래퍼 클래스 패턴을 사용하자.

## 상속을 허용해야 한다면?
- 재정의 가능 메서드를 호출하는 자기 사용 코드를 완벽하게 제거하자.
- 클래스의 동작을 유지하면서 재정의 가능 메서드를 사용하는 코드를 제거하는 방법 : 
> 각각의 재정의 가능 메서드는 자신의 본문 코드를 private '도우미 메서드'로 옮기고, 이 도우미 메서드를 호출하도록 수정한다. - 재정의 가능 메서드를 호출하는 다른 코드들도 모두 이 도우미 메서드를 직접 호출하도록 수정