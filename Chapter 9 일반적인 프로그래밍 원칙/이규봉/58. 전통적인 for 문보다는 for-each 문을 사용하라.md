# 아이템 58. 전통적인 for 문보다는 for-each 문을 사용하라

## 전통적인 for문으로 컬렉션을 순회하는 방법

```java
for (Iterator<Element> i = c.iterator(); i.hasNext(); ) {
    Element e = i.next();
        ... // e 로 무언가를 한다.
}
```

<br>

## 전통적인 for 문으로 배열을 순회하는 코드
```java
for (int i = 0; i < a.length; i++) {
        ... // a[i] 로 무언가를 한다.
}
```

* 이 방법들은 `while` 문보다는 낫지만 가장 좋은 방법은 아니다.
* 반복자와 인덱스 변수는 모두 코드를 지저분하게 할 뿐 우리에게 진짜 필요한 건 원소들 뿐이다.
* 요소 종류가 늘어나면 오류가 생길 가능성도 높아진다.
* 혹시라도 잘못된 변수를 사용했을 때 컴파일러가 잡아주리라는 보장도 없다.
* 컬렉션이냐 배열이냐에 따라 코드 형태가 달라지므로 주의해야 한다.

<br>

## for-each 문
* 정식 이름은 `enhanced for statement` 이다.
* 하나의 관용구로 컬렉션과 배열을 모두 처리할 수 있어서 어떤 컨테이너를 다루는지는 신경쓰지 않아도 된다.
* 중첩 반복문을 사용할 때 오류 가능성을 줄일 수 있다.

```java
for (Element e : elements) {
        ... // e로 무언가를 한다.
}
```

<br>

## for-each 문을 사용할 수 없는 상황
* 컬렉션을 순회하면서 선택된 원소 제거 시 (반복자의 `remove` 메서드를 호출해야 한다. 자바 8부터는 Collection의 `removeIf` 메서드를 사용해 컬렉션을 명시적으로 순회하는 일을 피할 수 있다.)
* 리스트나 배열을 순회하면서 그 원소의 값 일부 혹은 전체를 교체해야 될 떄 (인덱스를 이용해야 한다.)
* 병렬 반복 시 (여러 컬렉션을 병렬로 순회해야 한다면 각각의 반복자와 인덱스 변수를 사용해야 한다.)