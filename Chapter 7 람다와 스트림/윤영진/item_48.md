# ITEM 48. 스트림 병렬화는 주의해서 적용하라

스트림을 잘못 병렬화하면 (응답 불가를 포함해) 성능이 나빠질 뿐만 아니라 결과 자체가 잘못되거나 예상 못한 동작이 발생할 수있다.

병렬화하는 편이 낫다고 믿어라도, 수정 후의 코드가 여전히 정확하게 동작하는지 수행해보며 성능지표를 유심히 관찰하라. 그 후 운영에 코드를 반영하라.

## 병렬화 효과가 좋은 경우

- ArrayList
- HashMap
- HashSet
- ConcurrentHashMap
- Array
- int range
- long range

위의 자료 구조들은 데이터를 원하는 크기로 정확하고 손쉽게 나눌 수 있어서 다수의 스레드에 일을 분배하기 좋다는 특징이 있다. 분배는 Spliterator가 담당하며, Stream이나 Iterable의 spliterator 메서드로 객체를 얻어올 수 있다.

